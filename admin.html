<!DOCTYPE html>
<html>
<head>
<title>Bakshi Gaming Empire - Admin Pro</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
margin:0;
font-family:Segoe UI, sans-serif;
background:#0f0f0f;
color:white;
}

#loginPage{
display:flex;
justify-content:center;
align-items:center;
height:100vh;
background:linear-gradient(135deg,#000,#141414);
}

.login-box{
background:#1a1a1a;
padding:40px;
border-radius:12px;
width:350px;
box-shadow:0 0 40px rgba(0,0,0,0.7);
text-align:center;
}

input{
width:100%;
padding:12px;
margin:10px 0;
border:none;
border-radius:6px;
}

button{
width:100%;
padding:12px;
border:none;
border-radius:6px;
background:linear-gradient(45deg,#2979ff,#00c853);
color:white;
font-weight:bold;
cursor:pointer;
}

#adminPanel{
display:none;
}

.sidebar{
width:220px;
height:100vh;
position:fixed;
background:#111;
padding-top:20px;
}

.sidebar h2{
text-align:center;
}

.sidebar a{
display:block;
padding:15px;
color:white;
text-decoration:none;
}

.sidebar a:hover{
background:#222;
}

.main{
margin-left:220px;
padding:30px;
}

.card{
background:#1a1a1a;
padding:20px;
border-radius:10px;
margin-bottom:20px;
}

.progress{
height:10px;
background:#222;
border-radius:10px;
margin-top:10px;
overflow:hidden;
}

.progress-bar{
height:100%;
width:0%;
background:#00c853;
}
table{
width:100%;
margin-top:20px;
border-collapse:collapse;
}
td,th{
padding:10px;
border-bottom:1px solid #333;
}
</style>
</head>

<body>

<div id="loginPage">
<div class="login-box">
<h2>Admin Login</h2>
<input type="email" id="adminEmail" placeholder="Email">
<input type="password" id="adminPass" placeholder="Password">
<button onclick="login()">Login</button>
<p id="loginMsg"></p>
</div>
</div>

<div id="adminPanel">

<div class="sidebar">
<h2>Empire Admin</h2>
<a href="#">Dashboard</a>
<a href="#" onclick="logout()">Logout</a>
</div>

<div class="main">

<h1>ðŸŽ® Gaming Empire Control Panel</h1>

<div class="card">
<h3>Upload New Game</h3>
<input type="text" id="gameTitle" placeholder="Game Title">
<input type="file" id="gameFile">
<button onclick="uploadGame()">Upload Game</button>

<div class="progress">
<div class="progress-bar" id="progressBar"></div>
</div>

<p id="uploadStatus"></p>
</div>

<div class="card">
<h3>ðŸ“‚ Uploaded Games</h3>
<table>
<thead>
<tr>
<th>Title</th>
<th>Download Link</th>
<th>Date</th>
</tr>
</thead>
<tbody id="gameList"></tbody>
</table>
</div>

</div>
</div>

<script type="module">

import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
import { getAuth, signInWithEmailAndPassword, onAuthStateChanged, signOut } 
from "https://www.gstatic.com/firebasejs/10.12.0/firebase-auth.js";
import { getFirestore, collection, addDoc, getDocs } 
from "https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js";
import { getStorage, ref, uploadBytesResumable, getDownloadURL } 
from "https://www.gstatic.com/firebasejs/10.12.0/firebase-storage.js";

const firebaseConfig = {
apiKey: "YOUR_API_KEY",
authDomain: "YOUR_PROJECT.firebaseapp.com",
projectId: "YOUR_PROJECT_ID",
storageBucket: "YOUR_PROJECT.appspot.com",
messagingSenderId: "YOUR_ID",
appId: "YOUR_APP_ID"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const db = getFirestore(app);
const storage = getStorage(app);

window.login = function(){
let email = document.getElementById("adminEmail").value;
let pass = document.getElementById("adminPass").value;

signInWithEmailAndPassword(auth,email,pass)
.catch(error=>{
document.getElementById("loginMsg").innerText=error.message;
});
}

window.logout = function(){
signOut(auth);
}

onAuthStateChanged(auth,user=>{
if(user){
document.getElementById("loginPage").style.display="none";
document.getElementById("adminPanel").style.display="block";
loadGames();
}else{
document.getElementById("loginPage").style.display="flex";
document.getElementById("adminPanel").style.display="none";
}
});

window.uploadGame = function(){

let title=document.getElementById("gameTitle").value;
let file=document.getElementById("gameFile").files[0];

if(!file || !title){
alert("Please add title and file");
return;
}

let storageRef=ref(storage,"games/"+Date.now()+"_"+file.name);
let uploadTask=uploadBytesResumable(storageRef,file);

uploadTask.on("state_changed",
(snapshot)=>{
let progress=(snapshot.bytesTransferred/snapshot.totalBytes)*100;
document.getElementById("progressBar").style.width=progress+"%";
},
(error)=>{
document.getElementById("uploadStatus").innerText=error.message;
},
()=>{
getDownloadURL(uploadTask.snapshot.ref).then(async(downloadURL)=>{
await addDoc(collection(db,"games"),{
title:title,
url:downloadURL,
createdAt:new Date()
});
document.getElementById("uploadStatus").innerText="Upload Successful!";
document.getElementById("progressBar").style.width="0%";
loadGames();
});
});
}

async function loadGames(){
let querySnapshot=await getDocs(collection(db,"games"));
let list=document.getElementById("gameList");
list.innerHTML="";
querySnapshot.forEach(doc=>{
let data=doc.data();
list.innerHTML+=`
<tr>
<td>${data.title}</td>
<td><a href="${data.url}" target="_blank" style="color:#00c853;">Download</a></td>
<td>${new Date(data.createdAt.seconds*1000).toLocaleDateString()}</td>
</tr>
`;
});
}
<script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.10.0/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/12.10.0/firebase-analytics.js";
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  const firebaseConfig = {
    apiKey: "AIzaSyAz0mG88bcDqwTZttw21_8L4aYVHW_V9D0",
    authDomain: "the-ceo-web.firebaseapp.com",
    projectId: "the-ceo-web",
    storageBucket: "the-ceo-web.firebasestorage.app",
    messagingSenderId: "729264914822",
    appId: "1:729264914822:web:c6e123edca812c50586c07",
    measurementId: "G-ZMJJQRBS0V"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);
</script>

</body>
</html>
