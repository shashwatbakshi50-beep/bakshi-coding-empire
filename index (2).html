<!DOCTYPE html>
<html>
<head>
<title>Empire Admin Panel</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body{
margin:0;
font-family:Segoe UI;
background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);
color:white;
}

.container{
max-width:1100px;
margin:auto;
padding:40px;
}

.card{
background:rgba(255,255,255,0.07);
backdrop-filter:blur(12px);
padding:30px;
border-radius:15px;
box-shadow:0 0 30px rgba(0,0,0,0.6);
margin-bottom:25px;
}

h1{
text-align:center;
color:#f0b90b;
}

input{
width:100%;
padding:12px;
margin:10px 0;
border:none;
border-radius:8px;
outline:none;
}

button{
padding:10px 15px;
border:none;
border-radius:8px;
cursor:pointer;
font-weight:bold;
margin-top:5px;
}

.btn-primary{background:#f0b90b;color:black;}
.btn-success{background:#00c853;color:white;}
.btn-danger{background:#ff1744;color:white;}

.game-card{
background:#111c26;
padding:20px;
border-radius:12px;
margin-top:15px;
display:flex;
justify-content:space-between;
flex-wrap:wrap;
}

.game-info{
max-width:70%;
}

.game-card img{
max-width:150px;
border-radius:10px;
margin-top:10px;
}
</style>
</head>
<body>

<div class="container">

<h1>ðŸ‘‘ Empire Admin Panel</h1>

<!-- LOGIN PAGE -->
<div class="card" id="loginPage">
<h2>Admin Login</h2>
<input type="email" id="email" placeholder="Enter Email">
<input type="password" id="password" placeholder="Enter Password">
<button class="btn-primary" onclick="login()">Login</button>
</div>

<!-- DASHBOARD -->
<div id="dashboard" style="display:none;">

<div class="card">
<h2>Add New Game</h2>

<input type="text" id="gameName" placeholder="Game Name">
<input type="number" id="gamePrice" placeholder="Game Price â‚¹">

<label>Upload Game File</label>
<input type="file" id="gameFile">

<label>Upload Game Thumbnail</label>
<input type="file" id="gameImage" accept="image/*">

<button class="btn-success" onclick="addGame()">Add Game</button>
<button class="btn-danger" onclick="logout()">Logout</button>

</div>

<div class="card">
<h2>All Games</h2>
<div id="gameList"></div>
</div>

</div>
</div>

<script>

/* ================= ADMIN LOGIN ================= */

const ADMIN_EMAIL = "shashwatbakshi80@outlook.com";
const ADMIN_PASSWORD = "admin@123";

function login(){
let email=document.getElementById("email").value;
let password=document.getElementById("password").value;

if(email===ADMIN_EMAIL && password===ADMIN_PASSWORD){
localStorage.setItem("adminAuth","true");
showDashboard();
}else{
alert("Invalid Email or Password");
}
}

function showDashboard(){
document.getElementById("loginPage").style.display="none";
document.getElementById("dashboard").style.display="block";
loadGames();
}

window.onload=function(){
if(localStorage.getItem("adminAuth")==="true"){
showDashboard();
}
}

function logout(){
localStorage.removeItem("adminAuth");
location.reload();
}

/* ================= ADD GAME ================= */

function addGame(){

let name=document.getElementById("gameName").value;
let price=document.getElementById("gamePrice").value;
let file=document.getElementById("gameFile").files[0];
let image=document.getElementById("gameImage").files[0];

if(!name || !price){
alert("Fill all fields");
return;
}

let reader=new FileReader();
let imgReader=new FileReader();

let games=JSON.parse(localStorage.getItem("games"))||[];

let newGame={
id:Date.now(),
name:name,
price:price,
fileName:file?file.name:"",
fileData:"",
imageData:""
};

if(file){
reader.onload=function(e){
newGame.fileData=e.target.result;
saveImage();
};
reader.readAsDataURL(file);
}else{
saveImage();
}

function saveImage(){
if(image){
imgReader.onload=function(e){
newGame.imageData=e.target.result;
saveGame();
};
imgReader.readAsDataURL(image);
}else{
saveGame();
}
}

function saveGame(){
games.push(newGame);
localStorage.setItem("games",JSON.stringify(games));
loadGames();
alert("Game Added Successfully");
}
}

/* ================= LOAD GAMES ================= */

function loadGames(){
let games=JSON.parse(localStorage.getItem("games"))||[];
let list=document.getElementById("gameList");
list.innerHTML="";

games.forEach(g=>{
list.innerHTML+=`
<div class="game-card">

<div class="game-info">
<h3>${g.name}</h3>
<p>Price: â‚¹${g.price}</p>
<p>File: ${g.fileName}</p>

<button class="btn-primary" onclick="downloadGame('${g.fileData}','${g.fileName}')">Download</button>
<button class="btn-danger" onclick="deleteGame(${g.id})">Delete</button>
</div>

<div>
${g.imageData?`<img src="${g.imageData}">`:""}
</div>

</div>
`;
});
}

/* ================= DOWNLOAD ================= */

function downloadGame(data,fileName){
if(!data){
alert("No File Uploaded");
return;
}
let a=document.createElement("a");
a.href=data;
a.download=fileName;
a.click();
}

/* ================= DELETE ================= */

function deleteGame(id){
let games=JSON.parse(localStorage.getItem("games"))||[];
games=games.filter(g=>g.id!==id);
localStorage.setItem("games",JSON.stringify(games));
loadGames();
}

</script>

</body>
</html>
